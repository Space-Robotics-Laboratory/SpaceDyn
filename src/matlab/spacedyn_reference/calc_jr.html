<html>

<head>
   <meta http-equiv="Contents-Type" content="text/html;charset=Shift_JIS">
   <title> The SpaceDyn ver1.2 簡単リファレンス </title>
</head>

<body>
<h1>calc_jr</h1>

<h3>文法</h3>
JJ_r = calc_jr( AA )

<h3>global変数</h3>
BB, J_type,<br>
num_q, Ez

<h3>解説</h3>
関節に関するヤコビ行列の回転成分を計算する関数．<br>
<br>
<br>

注目する点に関するヤコビ行列は以下の式で求めることができる．
<table>
   <tr>
   <th rowspan="2" nowrap>[</th>
   <td> </td><td>vh</td><td> </td>
   <th rowspan="2" nowrap>] = Js*[</th>
   <td> </td><td>v0</td><td> </td>
   <th rowspan="2" nowrap>] + Jbm*qd</th>
   </tr>

   <tr>
   <td> </td><td>wh</td><td> </td>
   <td> </td><td>w0</td><td> </td>
   </tr>
</table>
Js,Jbm：ベース，手先に関するヤコビ行列<br>
<br>

ヤコビ行列は並進に関する要素と回転を表す要素に分離することができる．<br>
並進成分を JJ_t ，回転成分を JJ_r とすると，
ヤコビ行列は以下のように表せる．
<table>
   <tr>
   <th rowspan="2" nowrap>JJ = [</th>
   <td> </td><td>JJ_t</td><td> </td>
   <th rowspan="2" nowrap>]</th>
   </tr>

   <tr>
   <td> </td><td>JJ_r</td><td> </td>
   </tr>
</table>
<br>
<br>

calc_jr.m は全関節分の JJ_r を計算する．<br>
返り値の中身は以下のとおりである．
<table>
   <tr align="center">
   <th rowspan="2">JJ_r = [</th>
   <td> </td><td>3×num_q</td><td> </td>
   <td> </td><td>3×num_q</td><td> </td>
   <td> </td><td>3×num_q</td><td> </td>
   <td> </td><th rowspan="2">…</th><td> </td>
   <td> </td><td>3×num_q</td><td> </td>
   <th rowspan="2">]</font></th>
   </tr>

   <tr align="center">
   <td> </td><td>JJ_r1</td><td> </td>
   <td> </td><td>JJ_r2</td><td> </td>
   <td> </td><td>JJ_r3</td><td> </td>
   <td> </td><td> </td>
   <td> </td><td>JJ_rn</td><td> </td>
   </tr>
</table>

</body>

</html>