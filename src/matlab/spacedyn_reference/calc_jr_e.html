<html>

<head>
   <meta http-equiv="Contents-Type" content="text/html;charset=Shift_JIS">
   <title> The SpaceDyn ver1.2 Reference </title>
</head>

<body>
<h1>calc_jr</h1>

<h3>Grammar</h3>
JJ_r = calc_jr( AA )

<h3>Global variables</h3>
BB, J_type,<br>
num_q, Ez

<h3>Explanation</h3>
Function which calculates the rotational components of Jacobian matrix of joints.<br>
<br>
<br>

<h3>Details</h3>
Jacobian matrix of a specific points can be obtained as follows.
<table>
   <tr>
   <th rowspan="2" nowrap>[</th>
   <td> </td><td>vh</td><td> </td>
   <th rowspan="2" nowrap>] = Js*[</th>
   <td> </td><td>v0</td><td> </td>
   <th rowspan="2" nowrap>] + Jbm*qd</th>
   </tr>

   <tr>
   <td> </td><td>wh</td><td> </td>
   <td> </td><td>w0</td><td> </td>
   </tr>
</table>
Js,JbmÅFJacobian matrices of the base and end point.<br>
<br>

Jacobian matrix can be devided into translational and rotational components.<br>
Let translational components be JJ_t, and rotational components be JJ_r,<br>
Jacobian is expressed as follows.
<table>
   <tr>
   <th rowspan="2" nowrap>JJ = [</th>
   <td> </td><td>JJ_t</td><td> </td>
   <th rowspan="2" nowrap>]</th>
   </tr>

   <tr>
   <td> </td><td>JJ_r</td><td> </td>
   </tr>
</table>
<br>
<br>

"calc_jr" calculates JJ_r of all joints.<br>
Return values are shown below.
<table>
   <tr align="center">
   <th rowspan="2">JJ_r = [</th>
   <td> </td><td>3Å~num_q</td><td> </td>
   <td> </td><td>3Å~num_q</td><td> </td>
   <td> </td><td>3Å~num_q</td><td> </td>
   <td> </td><th rowspan="2">Åc</th><td> </td>
   <td> </td><td>3Å~num_q</td><td> </td>
   <th rowspan="2">]</font></th>
   </tr>

   <tr align="center">
   <td> </td><td>JJ_r1</td><td> </td>
   <td> </td><td>JJ_r2</td><td> </td>
   <td> </td><td>JJ_r3</td><td> </td>
   <td> </td><td> </td>
   <td> </td><td>JJ_rn</td><td> </td>
   </tr>
</table>

</body>

</html>